"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t={exports:{}},n={exports:{}},r=1e3,i=60*r,a=60*i,o=24*a,s=365.25*o,c=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*s;case"days":case"day":case"d":return n*o;case"hours":case"hour":case"hrs":case"hr":case"h":return n*a;case"minutes":case"minute":case"mins":case"min":case"m":return n*i;case"seconds":case"second":case"secs":case"sec":case"s":return n*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(e);if("number"===n&&!1===isNaN(e))return t.long?function(e){return l(e,o,"day")||l(e,a,"hour")||l(e,i,"minute")||l(e,r,"second")||e+" ms"}(e):function(e){if(e>=o)return Math.round(e/o)+"d";if(e>=a)return Math.round(e/a)+"h";if(e>=i)return Math.round(e/i)+"m";if(e>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function l(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}!function(e,t){var r;function i(e){function n(){var e=arguments;if(n.enabled){var i=n,a=+new Date,o=a-(r||a);i.diff=o,i.prev=r,i.curr=a,r=a;for(var s=new Array(arguments.length),c=0;c<s.length;c++)s[c]=e[c];s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var l=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(e,n){if("%%"===e)return e;l++;var r=t.formatters[n];if("function"==typeof r){var a=s[l];e=r.call(i,a),s.splice(l,1),l--}return e})),t.formatArgs.call(i,s);var u=n.log||t.log||console.log.bind(console);u.apply(i,s)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),"function"==typeof t.init&&t.init(n),n}(t=n.exports=i.debug=i.default=i).coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=c,t.names=[],t.skips=[],t.formatters={}}(0,n.exports),function(e,t){function r(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=n.exports).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,a=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(a=i))})),e.splice(a,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=r,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(r())}(t,t.exports);var u=t.exports("jsonp"),d=function(e,t,n){"function"==typeof t&&(n=t,t={});t||(t={});var r,i,a=t.prefix||"__jp",o=t.name||a+h++,s=t.param||"callback",c=null!=t.timeout?t.timeout:6e4,l=encodeURIComponent,d=document.getElementsByTagName("script")[0]||document.head;c&&(i=setTimeout((function(){p(),n&&n(new Error("Timeout"))}),c));function p(){r.parentNode&&r.parentNode.removeChild(r),window[o]=f,i&&clearTimeout(i)}return window[o]=function(e){u("jsonp got",e),p(),n&&n(null,e)},e=(e+=(~e.indexOf("?")?"&":"?")+s+"="+l(o)).replace("?&","?"),u('jsonp req "%s"',e),(r=document.createElement("script")).src=e,d.parentNode.insertBefore(r,d),function(){window[o]&&p()}},h=0;function f(){}var p,g,v,m,y={"clear-day":["01d"],"clear-night":["01n"],cloudy:["03d","03n"],fog:["50d","50n"],"partly-cloudy-day":["02d","04d"],"partly-cloudy-night":["02n","04n"],rain:["09d","09n","10d","10n","11d","11n"],sleet:["13d","13n"],snow:["13d","13n"],wind:["50d","50n"]},w={auto:"standard",us:"imperial",uk:"metric"},_={lookupIP:function(){var e=localStorage.vww__cache_ip||"{}";return(e=JSON.parse(e)).ip?Promise.resolve(e):fetch("https://www.cloudflare.com/cdn-cgi/trace").then((function(e){return e.text()})).then((function(e){return e.split("\n").map((function(e){return e.split("=")})).filter((function(e){return 2==e.length})).reduce((function(e,t){return e[t[0].trim()]=t[1].trim(),e}),{})})).then((function(e){return localStorage.vww__cache_ip=JSON.stringify(e),e}))},fetchLocationByIP:function(e,t){if(!t)return _.lookupIP().then((function(t){return _.fetchLocationByIP(e,t.ip)}));var n=localStorage.vww__cache_ip_location||"{}";return(n=JSON.parse(n))[t]?n[t]:(e=e||"f8n4kqe8pv4kii",fetch("https://api.ipregistry.co/"+t+"?key="+e).then((function(e){return e.json()})).then((function(e){return n[t]=e.location||{},localStorage.vww__cache_ip_location=JSON.stringify(n),n[t]})))},geocode:function(e,t,n){void 0===n&&(n=!1);var r=localStorage.vww__cache_geocode||"{}";return(r=JSON.parse(r))[t]?Promise.resolve(r[t]):(e=e||"c3bb8aa0a56b21122dea6a2a8ada70c8",fetch("//api.positionstack.com/v1/"+(n?"reverse":"forward")+"?access_key="+e+"&query="+t).then((function(e){return e.json()})).then((function(e){if(e.error)throw new Error("(api.positionstack.com) "+e.error.message);return r[t]=e.data[0],localStorage.vww__cache_geocode=JSON.stringify(r),r[t]})))},reverseGeocode:function(e,t,n){return _.geocode(e,t+","+n,!0)},fetchWeather:function(e){if((e=e||{}).units=e.units||"us",e.language=e.language||"en",!e.lat||!e.lng)throw new Error("Geolocation is required");return new Promise((function(t,n){d("https://api.darksky.net/forecast/"+e.apiKey+"/"+e.lat+","+e.lng+"?units="+e.units+"&lang="+e.language,(function(e,r){e?n(e):t(r)}))}))},fetchOWMWeather:function(e){if(void 0===e&&(e={}),e.units=e.units||"auto",e.language=e.language||"en",!e.lat||!e.lng)throw new Error("Geolocation is required");var t=w[e.units]||"standard";return fetch("https://api.openweathermap.org/data/2.5/onecall?appid="+e.apiKey+"&lat="+e.lat+"&lon="+e.lng+"&units="+t+"&lang="+e.language).then((function(e){return e.json()})).then(_.mapData)},fetchServerWeather:function(e){if(void 0===e&&(e={}),!e.serverURL)throw new Error("Server URL to query is required, but not defined");return fetch(""+e.serverURL).then((function(e){return e.json()})).then(_.mapData)},mapData:function(e){var t=e.current,n=t.weather[0],r=n.description,i=n.icon,a=_.mapIcon(i);return{currently:Object.assign({},t,{icon:a,temperature:t.temp,summary:r,windSpeed:t.wind_speed,windBearing:t.wind_deg}),daily:{data:e.daily.map((function(e){return{temperatureMax:e.temp.max,temperatureMin:e.temp.min,time:e.dt,icon:_.mapIcon(e.weather[0].icon)}}))},hourly:{data:e.hourly.map((function(e){return{temperature:e.temp}}))}}},mapIcon:function(e){return Object.keys(y).find((function(t){return y[t].includes(e)}))}};v=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame,m=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.oCancelAnimationFrame||e.msCancelAnimationFrame,v&&m?(p=function(e){var t={value:null};return function n(){t.value=v(n),e()}(),t},g=function(e){m(e.value)}):(p=setInterval,g=clearInterval);var b=2*Math.PI,M=2/Math.sqrt(2);function C(e,t,n,r,i){e.beginPath(),e.moveTo(t,n),e.lineTo(r,i),e.stroke()}function k(e,t,n,r,i,a,o,s){var c=Math.cos(t*b);!function(e,t,n,r){e.beginPath(),e.arc(t,n,r,0,b,!1),e.fill()}(e,n-Math.sin(t*b)*i,r+c*a+.5*(s-=o),o+(1-.5*c)*s)}function S(e,t,n,r,i,a,o,s){var c;for(c=5;c--;)k(e,t+c/5,n,r,i,a,o,s)}function x(e,t,n,r,i,a,o){t/=3e4;var s=.21*i,c=.12*i,l=.24*i,u=.28*i;e.fillStyle=o,S(e,t,n,r,s,c,l,u),e.globalCompositeOperation="destination-out",S(e,t,n,r,s,c,l-a,u-a),e.globalCompositeOperation="source-over"}function A(e,t,n,r,i,a,o){t/=12e4;var s,c,l,u,d=.25*i-.5*a,h=.32*i+.5*a,f=.5*i-.5*a;for(e.strokeStyle=o,e.lineWidth=a,e.lineCap="round",e.lineJoin="round",e.beginPath(),e.arc(n,r,d,0,b,!1),e.stroke(),s=8;s--;)c=(t+s/8)*b,C(e,n+(l=Math.cos(c))*h,r+(u=Math.sin(c))*h,n+l*f,r+u*f)}function N(e,t,n,r,i,a,o){t/=15e3;var s=.29*i-.5*a,c=.05*i,l=Math.cos(t*b),u=l*b/-16;e.strokeStyle=o,e.lineWidth=a,e.lineCap="round",e.lineJoin="round",n+=l*c,e.beginPath(),e.arc(n,r,s,u+b/8,u+7*b/8,!1),e.arc(n+Math.cos(u)*s*M,r+Math.sin(u)*s*M,s,u+5*b/8,u+3*b/8,!0),e.closePath(),e.stroke()}var E=[[-.75,-.18,-.7219,-.1527,-.6971,-.1225,-.6739,-.091,-.6516,-.0588,-.6298,-.0262,-.6083,.0065,-.5868,.0396,-.5643,.0731,-.5372,.1041,-.5033,.1259,-.4662,.1406,-.4275,.1493,-.3881,.153,-.3487,.1526,-.3095,.1488,-.2708,.1421,-.2319,.1342,-.1943,.1217,-.16,.1025,-.129,.0785,-.1012,.0509,-.0764,.0206,-.0547,-.012,-.0378,-.0472,-.0324,-.0857,-.0389,-.1241,-.0546,-.1599,-.0814,-.1876,-.1193,-.1964,-.1582,-.1935,-.1931,-.1769,-.2157,-.1453,-.229,-.1085,-.2327,-.0697,-.224,-.0317,-.2064,.0033,-.1853,.0362,-.1613,.0672,-.135,.0961,-.1051,.1213,-.0706,.1397,-.0332,.1512,.0053,.158,.0442,.1624,.0833,.1636,.1224,.1615,.1613,.1565,.1999,.15,.2378,.1402,.2749,.1279,.3118,.1147,.3487,.1015,.3858,.0892,.4236,.0787,.4621,.0715,.5012,.0702,.5398,.0766,.5768,.089,.6123,.1055,.6466,.1244,.6805,.144,.7147,.163,.75,.18],[-.75,0,-.7033,.0195,-.6569,.0399,-.6104,.06,-.5634,.0789,-.5155,.0954,-.4667,.1089,-.4174,.1206,-.3676,.1299,-.3174,.1365,-.2669,.1398,-.2162,.1391,-.1658,.1347,-.1157,.1271,-.0661,.1169,-.017,.1046,.0316,.0903,.0791,.0728,.1259,.0534,.1723,.0331,.2188,.0129,.2656,-.0064,.3122,-.0263,.3586,-.0466,.4052,-.0665,.4525,-.0847,.5007,-.1002,.5497,-.113,.5991,-.124,.6491,-.1325,.6994,-.138,.75,-.14]],T=[{start:.36,end:.11},{start:.56,end:.16}];function I(e,t,n,r,i,a,o,s,c){var l,u,d,h,f=E[o],p=((t/=2500)+o-T[o].start)%s,g=(t+o-T[o].end)%s,v=(t+o)%s;if(e.strokeStyle=c,e.lineWidth=a,e.lineCap="round",e.lineJoin="round",p<1){if(e.beginPath(),p*=f.length/2-1,p-=l=Math.floor(p),l*=2,l+=2,e.moveTo(n+(f[l-2]*(1-p)+f[l]*p)*i,r+(f[l-1]*(1-p)+f[l+1]*p)*i),g<1){for(g*=f.length/2-1,g-=u=Math.floor(g),u*=2,u+=2,h=l;h!==u;h+=2)e.lineTo(n+f[h]*i,r+f[h+1]*i);e.lineTo(n+(f[u-2]*(1-g)+f[u]*g)*i,r+(f[u-1]*(1-g)+f[u+1]*g)*i)}else for(h=l;h!==f.length;h+=2)e.lineTo(n+f[h]*i,r+f[h+1]*i);e.stroke()}else if(g<1){for(e.beginPath(),g*=f.length/2-1,g-=u=Math.floor(g),u*=2,u+=2,e.moveTo(n+f[0]*i,r+f[1]*i),h=2;h!==u;h+=2)e.lineTo(n+f[h]*i,r+f[h+1]*i);e.lineTo(n+(f[u-2]*(1-g)+f[u]*g)*i,r+(f[u-1]*(1-g)+f[u+1]*g)*i),e.stroke()}v<1&&(v*=f.length/2-1,v-=d=Math.floor(v),d*=2,function(e,t,n,r,i,a,o){var s=i/8,c=s/3,l=2*c,u=t%1*b,d=Math.cos(u),h=Math.sin(u);e.fillStyle=o,e.strokeStyle=o,e.lineWidth=a,e.lineCap="round",e.lineJoin="round",e.beginPath(),e.arc(n,r,s,u,u+Math.PI,!1),e.arc(n-c*d,r-c*h,l,u+Math.PI,u,!1),e.arc(n+l*d,r+l*h,c,u+Math.PI,u,!0),e.globalCompositeOperation="destination-out",e.fill(),e.globalCompositeOperation="source-over",e.stroke()}(e,t,n+(f[(d+=2)-2]*(1-v)+f[d]*v)*i,r+(f[d-1]*(1-v)+f[d+1]*v)*i,i,a,c))}var O=function(e){this.list=[],this.interval=null,this.color=e&&e.color?e.color:"black",this.resizeClear=!(!e||!e.resizeClear)};O.CLEAR_DAY=function(e,t,n){var r=e.canvas.width,i=e.canvas.height,a=Math.min(r,i);A(e,t,.5*r,.5*i,a,.08*a,n)},O.CLEAR_NIGHT=function(e,t,n){var r=e.canvas.width,i=e.canvas.height,a=Math.min(r,i);N(e,t,.5*r,.5*i,a,.08*a,n)},O.PARTLY_CLOUDY_DAY=function(e,t,n){var r=e.canvas.width,i=e.canvas.height,a=Math.min(r,i);A(e,t,.625*r,.375*i,.75*a,.08*a,n),x(e,t,.375*r,.625*i,.75*a,.08*a,n)},O.PARTLY_CLOUDY_NIGHT=function(e,t,n){var r=e.canvas.width,i=e.canvas.height,a=Math.min(r,i);N(e,t,.667*r,.375*i,.75*a,.08*a,n),x(e,t,.375*r,.625*i,.75*a,.08*a,n)},O.CLOUDY=function(e,t,n){var r=e.canvas.width,i=e.canvas.height,a=Math.min(r,i);x(e,t,.5*r,.5*i,a,.08*a,n)},O.RAIN=function(e,t,n){var r=e.canvas.width,i=e.canvas.height,a=Math.min(r,i);!function(e,t,n,r,i,a,o){t/=1350;var s,c,l,u,d=.16*i,h=11*b/12,f=7*b/12;for(e.fillStyle=o,s=4;s--;)l=n+(s-1.5)/1.5*(1===s||2===s?-1:1)*d,u=r+(c=(t+s/4)%1)*c*i,e.beginPath(),e.moveTo(l,u-1.5*a),e.arc(l,u,.75*a,h,f,!1),e.fill()}(e,t,.5*r,.37*i,.9*a,.08*a,n),x(e,t,.5*r,.37*i,.9*a,.08*a,n)},O.SLEET=function(e,t,n){var r=e.canvas.width,i=e.canvas.height,a=Math.min(r,i);!function(e,t,n,r,i,a,o){t/=750;var s,c,l,u,d=.1875*i;for(e.strokeStyle=o,e.lineWidth=.5*a,e.lineCap="round",e.lineJoin="round",s=4;s--;)c=(t+s/4)%1,C(e,l=Math.floor(n+(s-1.5)/1.5*(1===s||2===s?-1:1)*d)+.5,(u=r+c*i)-1.5*a,l,u+1.5*a)}(e,t,.5*r,.37*i,.9*a,.08*a,n),x(e,t,.5*r,.37*i,.9*a,.08*a,n)},O.SNOW=function(e,t,n){var r=e.canvas.width,i=e.canvas.height,a=Math.min(r,i);!function(e,t,n,r,i,a,o){var s,c,l,u,d=.16*i,h=.75*a,f=(t/=3e3)*b*.7,p=Math.cos(f)*h,g=Math.sin(f)*h,v=f+b/3,m=Math.cos(v)*h,y=Math.sin(v)*h,w=f+2*b/3,_=Math.cos(w)*h,M=Math.sin(w)*h;for(e.strokeStyle=o,e.lineWidth=.5*a,e.lineCap="round",e.lineJoin="round",s=4;s--;)c=(t+s/4)%1,C(e,(l=n+Math.sin((c+s/4)*b)*d)-p,(u=r+c*i)-g,l+p,u+g),C(e,l-m,u-y,l+m,u+y),C(e,l-_,u-M,l+_,u+M)}(e,t,.5*r,.37*i,.9*a,.08*a,n),x(e,t,.5*r,.37*i,.9*a,.08*a,n)},O.WIND=function(e,t,n){var r=e.canvas.width,i=e.canvas.height,a=Math.min(r,i);I(e,t,.5*r,.5*i,a,.08*a,0,2,n),I(e,t,.5*r,.5*i,a,.08*a,1,2,n)},O.FOG=function(e,t,n){var r=e.canvas.width,i=e.canvas.height,a=Math.min(r,i),o=.08*a;!function(e,t,n,r,i,a,o){t/=3e4;var s=.21*i,c=.06*i,l=.21*i,u=.28*i;e.fillStyle=o,S(e,t,n,r,s,c,l,u),e.globalCompositeOperation="destination-out",S(e,t,n,r,s,c,l-a,u-a),e.globalCompositeOperation="source-over"}(e,t,.5*r,.32*i,.75*a,o,n),t/=5e3;var s=Math.cos(t*b)*a*.02,c=Math.cos((t+.25)*b)*a*.02,l=Math.cos((t+.5)*b)*a*.02,u=Math.cos((t+.75)*b)*a*.02,d=.936*i,h=Math.floor(d-.5*o)+.5,f=Math.floor(d-2.5*o)+.5;e.strokeStyle=n,e.lineWidth=o,e.lineCap="round",e.lineJoin="round",C(e,s+.2*r+.5*o,h,c+.8*r-.5*o,h),C(e,l+.2*r+.5*o,f,u+.8*r-.5*o,f)},O.prototype={_determineDrawingFunction:function(e){return"string"==typeof e&&(e=O[e.toUpperCase().replace(/-/g,"_")]||null),e},add:function(e,t){var n;"string"==typeof e&&(e=document.getElementById(e)),null!=e&&"function"==typeof(t=this._determineDrawingFunction(t))&&(n={element:e,context:e.getContext("2d"),drawing:t},this.list.push(n),this.draw(n,500))},set:function(e,t){var n;for("string"==typeof e&&(e=document.getElementById(e)),n=this.list.length;n--;)if(this.list[n].element===e)return this.list[n].drawing=this._determineDrawingFunction(t),void this.draw(this.list[n],500);this.add(e,t)},remove:function(e){var t;for("string"==typeof e&&(e=document.getElementById(e)),t=this.list.length;t--;)if(this.list[t].element===e)return void this.list.splice(t,1)},draw:function(e,t){var n=e.context.canvas;this.resizeClear?n.width=n.width:e.context.clearRect(0,0,n.width,n.height),e.drawing(e.context,t,this.color)},play:function(){var e=this;this.pause(),this.interval=p((function(){var t,n=Date.now();for(t=e.list.length;t--;)e.draw(e.list[t],n)}),1e3/60)},pause:function(){this.interval&&(g(this.interval),this.interval=null)}};var D=O;var L={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vww__widget",style:{color:e.textColor}},[e._t("header",[e.hideHeader?e._e():n("div",{staticClass:"vww__header",style:{borderColor:e.barColor}},[e._t("title",[n("span",{staticClass:"vww__title"},[e._v("\n          "+e._s("Weather for Dublin")+"\n        ")])])],2)]),e._v(" "),n("div",{staticClass:"vww__content"},[e.loading?n("div",{staticClass:"vww__loading"},[e._t("loading",[n("skycon",{attrs:{condition:"partly-cloudy-day",color:e.textColor,paused:e.disableAnimation}}),e._v(" "),n("span",{staticClass:"vww__title"},[e._v("Loading...")])])],2):!e.error&&e.weather&&e.currently&&e.daily?[n("div",{staticClass:"vww__currently"},[n("div",[n("skycon",{attrs:{condition:e.currently.icon,size:"80",color:e.textColor,paused:e.disableAnimation}}),e._v(" "),n("div",{staticClass:"vww__temp"},[e._v("\n            "+e._s(Math.round(e.currently.temperature))+"°\n            "),e.isDownward?n("div",[n("svg",{attrs:{viewBox:"0 0 306 306",width:"24",height:"24"}},[n("polygon",{style:{fill:e.textColor},attrs:{points:"270.3,58.65 153,175.95 35.7,58.65 0,94.35 153,247.35 306,94.35"}})])]):n("div",[n("svg",{attrs:{viewBox:"0 0 306 306",width:"24",height:"24"}},[n("polygon",{style:{fill:e.textColor},attrs:{points:"35.7,247.35 153,130.05 270.3,247.35 306,211.65 153,58.65 0,211.65"}})])])])],1),e._v(" "),n("div",{staticClass:"vww__title"},[e._v(e._s(e.currently.summary))]),e._v(" "),n("div",{staticClass:"vww__wind"},[e._v("\n          Wind: "+e._s(Math.round(e.currently.windSpeed))+" mph ("+e._s(e.windBearing)+")\n        ")])]),e._v(" "),n("div",{staticClass:"vww__daily"},e._l(e.daily,(function(t){return n("div",{key:t.time,staticClass:"vww__day"},[n("span",[e._v(e._s(t.weekName))]),e._v(" "),n("span",[n("skycon",{staticStyle:{display:"block"},attrs:{condition:t.icon,size:"26",color:e.textColor,paused:e.disableAnimation}})],1),e._v(" "),n("div",{staticClass:"vww__day-bar"},[n("div",{style:{height:t.top+"%"}},[n("span",[e._v(e._s(Math.round(t.temperatureMax))+"°")])]),e._v(" "),n("div",{style:{borderRadius:"10px",background:e.barColor,height:t.height+"%"}},[e._v("\n               \n            ")]),e._v(" "),n("div",{style:{height:t.bottom+"%"}},[n("span",[e._v(e._s(Math.round(t.temperatureMin))+"°")])])])])})),0)]:n("div",{staticClass:"vww__error"},[e._t("error",[n("skycon",{attrs:{condition:"rain",color:e.textColor,paused:e.disableAnimation}}),e._v(" "),n("span",{staticClass:"vww__title"},[e._v(e._s(e.error||"Something went wrong!"))])])],2)],2)],2)},staticRenderFns:[],name:"VueWeatherWidget",components:{Skycon:{render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("canvas",{attrs:{width:e.width,height:e.height,"data-condition":e.condition}})},staticRenderFns:[],props:{condition:{type:String,required:!0},size:{type:[Number,String],default:64},color:{type:String,default:"black"},paused:{type:Boolean,default:!1}},computed:{width:function(){return""+this.size},height:function(){return""+this.size},icon:function(){return this.condition.toUpperCase().replace(/[\s.-]/g,"_")}},mounted:function(){var e=new D({color:this.color});e.set(this.$el,D[this.icon]),this.paused||e.play(),this.$emit("load",function(e){var t={};return t.paused=!e.interval,t.play=function(){e.play(),t.paused=!1},t.pause=function(){e.pause(),t.paused=!0},t}(e))}}},props:{useDarkSkyApi:{type:Boolean,default:!1},apiKey:{type:String},address:{type:String},serverURL:{type:String,required:!0,default:"https://localhost/weather"},latitude:{type:String},longitude:{type:String},language:{type:String,default:"en"},units:{type:String,default:"us"},hideHeader:{type:Boolean,default:!1},updateInterval:{type:Number},disableAnimation:{type:Boolean,default:!1},barColor:{type:String,default:"#444"},textColor:{type:String,default:"#333"},positionstackApi:{type:String,default:"c3bb8aa0a56b21122dea6a2a8ada70c8"},ipregistryKey:{type:String,default:"f8n4kqe8pv4kii"}},data:function(){return{loading:!0,weather:null,error:null,location:{},timeout:null}},watch:{apiKey:"hydrate",address:"hydrate",latitude:"hydrate",longitude:"hydrate",language:"hydrate",units:"hydrate",updateInterval:"hydrate"},mounted:function(){this.hydrate()},destroyed:function(){clearTimeout(this.timeout)},computed:{currently:function(){return this.weather.currently},isDownward:function(){for(var e=this.weather.hourly.data,t=(new Date).getTime()/1e3,n=0;n<e.length;n++)if(!(e[n].time<=t))return e[n].temperature<this.currently.temperature},windBearing:function(){return["N","NE","E","SE","S","SW","W","NW","N"][Math.round(this.currently.windBearing/45)]},daily:function(){for(var e=[],t=-1/0,n=1/0,r=new Date((new Date).toDateString()).getTime()/1e3+86400-1,i=this.weather.daily.data,a=0;a<i.length;a++){var o=i[a];o.temperatureMax>t&&(t=o.temperatureMax),o.temperatureMin<n&&(n=o.temperatureMin),e.push(Object.assign({},o))}for(var s=t-n,c=0;c<e.length;++c){var l=e[c];l.time<=r?l.weekName="Today":l.weekName=new Date(1e3*l.time).toLocaleDateString(this.language,{weekday:"short"});var u=l.temperatureMax,d=l.temperatureMin;l.height=Math.round(100*(u-d)/s),l.top=Math.round(100*(t-u)/s),l.bottom=100-(l.top+l.height)}return e}},methods:{loadWeather:function(){var e=this;return console.log(this.serverURL),_.fetchServerWeather({serverURL:this.serverURL}).then((function(t){e.$set(e,"weather",t)}))},autoupdate:function(){var e=this;clearTimeout(this.timeout);var t=Number(this.updateInterval);!t||t<60||this.destroyed||(this.timeout=setTimeout((function(){return e.hydrate(!1)}),t))},hydrate:function(e){var t=this;return void 0===e&&(e=!0),this.$set(this,"loading",e),this.$nextTick().then(this.loadWeather).then((function(){t.$set(t,"error",null)})).catch((function(e){t.$set(t,"error",""+e)})).finally((function(){t.$set(t,"loading",!1),t.autoupdate()}))},processLocation:function(){var e=this;return this.latitude&&this.longitude?_.reverseGeocode(this.positionstackApi,this.latitude,this.longitude).then((function(t){e.$set(e,"location",{lat:e.latitude,lng:e.longitude,name:t.region+", "+t.country})})):this.address?_.geocode(this.positionstackApi,this.address).then((function(t){e.$set(e,"location",{lat:t.latitude,lng:t.longitude,name:t.region+", "+t.country})})):_.fetchLocationByIP(this.ipregistryKey).then((function(t){e.$set(e,"location",{lat:t.latitude,lng:t.longitude,name:t.city+", "+t.country.name})}))}}};module.exports=L;
